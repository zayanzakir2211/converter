<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Secure Generator</title>
  <style>
    body {
      background-color: #121212;
      color: #00bfff;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      padding: 20px;
      background-image: url('assets/1.png');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
    }
    h1 {
      margin-bottom: 20px;
    }
    #password {
      width: 90%;
      max-width: 400px;
      font-size: 20px;
      padding: 15px;
      border-radius: 25px;
      background: rgba(0, 191, 255, 0.1);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      box-shadow: 0 4px 30px rgba(0, 191, 255, 0.2);
      border: none;
      color: #00bfff;
      text-align: center;
      margin-bottom: 20px;
    }
    .buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }
    button {
      color: #00bfff;
      font-size: 16px;
      padding: 12px 24px;
      border: 2px solid rgba(0, 191, 255, 0.4);
      border-radius: 30px;
      background: rgba(0, 191, 255, 0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 4px 30px rgba(0, 191, 255, 0.2);
      transition: all 0.3s ease;
      cursor: pointer;
    }
    button:hover {
      background: rgba(0, 191, 255, 0.3);
      color: #ffffff;
      box-shadow: 0 6px 40px rgba(0, 191, 255, 0.4);
    }
    a {
      color: #00bfff;
      text-decoration: none;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>⚡ Secure Password Generator</h1>
  <div class="buttons">
    <button onclick="generatePassword()">Generate Password</button>
  </div>
  <input id="password" readonly placeholder="Your password appears here" />
  <div class="buttons">
<button onclick="copyPassword()">Copy</button>
</div>
<a href="index.html">← Back to Home</a>
  <!-- ✅ SHA3 Library -->
  <script src="https://cdn.jsdelivr.net/npm/js-sha3@0.9.2/build/sha3.min.js"></script>

  <script>
    function hexToBytes(hex) {
      const bytes = new Uint8Array(hex.length / 2);
      for (let i = 0; i < bytes.length; i++) {
        bytes[i] = parseInt(hex.substr(i * 2, 2), 16);
      }
      return bytes;
    }

    function bytesToBase64(bytes) {
      let binary = '';
      bytes.forEach((b) => binary += String.fromCharCode(b));
      return btoa(binary);
    }

    function generatePassword() {
      const userAgent = navigator.userAgent;
      const now = new Date();

      const timeStr = now.toLocaleTimeString('en-US');
      const dateStr = now.toLocaleDateString('en-US', { day: 'numeric', month: 'long', year: 'numeric' });
      const fullTime = `${timeStr} ${dateStr}`;

      const baseSeed = userAgent + fullTime;

      let sample = '';
      for (let i = 0; i < 8; i++) {
        sample += baseSeed[Math.floor(Math.random() * baseSeed.length)];
      }

      const hashHex = sha3_512(sample);
      const hashBytes = hexToBytes(hashHex);
      const base64Hash = bytesToBase64(hashBytes);

      const seconds = now.getSeconds();
      let length = 8;
      if (seconds >= 13 && seconds <= 24) length = 9;
      else if (seconds >= 25 && seconds <= 36) length = 10;
      else if (seconds >= 37 && seconds <= 48) length = 11;
      else if (seconds >= 49) length = 12;

      const finalPassword = (seconds % 2 === 0)
        ? base64Hash.substring(0, length)
        : base64Hash.substring(base64Hash.length - length);

      document.getElementById('password').value = finalPassword;
    }

    function copyPassword() {
      const passwordField = document.getElementById('password');
      passwordField.select();
      passwordField.setSelectionRange(0, 99999); // For mobile devices
      document.execCommand('copy');
      alert('Password copied to clipboard!');
    }
  </script>
</body>
</html>
